<?xml version="1.0"?>
<xsl:stylesheet xmlns:indivodoc="http://indivo.org/vocab/xml/documents#" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xs="http://www.w3.org/2001/XMLSchema" version="1.0">
  <xsl:template match="indivodoc:MedicationAdministration">
    <Models>
      <Model name="MedicationAdministration">
<Field name="name_text"><xsl:value-of select="indivodoc:name/text()"/></Field><xsl:if test="indivodoc:name/@type"><Field name="name_type"><xsl:value-of select="indivodoc:name/@type"/></Field></xsl:if><xsl:if test="indivodoc:name/@value"><Field name="name_value"><xsl:value-of select="indivodoc:name/@value"/></Field></xsl:if><xsl:if test="indivodoc:name/@abbrev"><Field name="name_abbrev"><xsl:value-of select="indivodoc:name/@abbrev"/></Field></xsl:if>
<Field name="reportedBy"><xsl:value-of select="indivodoc:reportedBy/text()"/></Field>
<Field name="dateReported"><xsl:value-of select="indivodoc:dateReported/text()"/></Field>
<xsl:if test="indivodoc:dateAdministered"><Field name="dateAdministered"><xsl:value-of select="indivodoc:dateAdministered/text()"/></Field></xsl:if>
<xsl:if test="indivodoc:amountAdministered"><xsl:if test="indivodoc:amountAdministered/indivodoc:value"><Field name="amountAdministered_value"><xsl:value-of select="indivodoc:amountAdministered/indivodoc:value"/></Field></xsl:if><xsl:if test="indivodoc:amountAdministered/indivodoc:textValue"><Field name="amountAdministered_textValue"><xsl:value-of select="indivodoc:amountAdministered/indivodoc:textValue"/></Field></xsl:if><xsl:if test="indivodoc:amountAdministered/indivodoc:unit"><Field name="amountAdministered_unit_text"><xsl:value-of select="indivodoc:amountAdministered/indivodoc:unit/text()"/></Field><xsl:if test="indivodoc:amountAdministered/indivodoc:unit/@type"><Field name="amountAdministered_unit_type"><xsl:value-of select="indivodoc:amountAdministered/indivodoc:unit/@type"/></Field></xsl:if><xsl:if test="indivodoc:amountAdministered/indivodoc:unit/@value"><Field name="amountAdministered_unit_value"><xsl:value-of select="indivodoc:amountAdministered/indivodoc:unit/@value"/></Field></xsl:if><xsl:if test="indivodoc:amountAdministered/indivodoc:unit/@abbrev"><Field name="amountAdministered_unit_abbrev"><xsl:value-of select="indivodoc:amountAdministered/indivodoc:unit/@abbrev"/></Field></xsl:if></xsl:if></xsl:if>
<xsl:if test="indivodoc:amountRemaining"><xsl:if test="indivodoc:amountRemaining/indivodoc:value"><Field name="amountRemaining_value"><xsl:value-of select="indivodoc:amountRemaining/indivodoc:value"/></Field></xsl:if><xsl:if test="indivodoc:amountRemaining/indivodoc:textValue"><Field name="amountRemaining_textValue"><xsl:value-of select="indivodoc:amountRemaining/indivodoc:textValue"/></Field></xsl:if><xsl:if test="indivodoc:amountRemaining/indivodoc:unit"><Field name="amountRemaining_unit_text"><xsl:value-of select="indivodoc:amountRemaining/indivodoc:unit/text()"/></Field><xsl:if test="indivodoc:amountRemaining/indivodoc:unit/@type"><Field name="amountRemaining_unit_type"><xsl:value-of select="indivodoc:amountRemaining/indivodoc:unit/@type"/></Field></xsl:if><xsl:if test="indivodoc:amountRemaining/indivodoc:unit/@value"><Field name="amountRemaining_unit_value"><xsl:value-of select="indivodoc:amountRemaining/indivodoc:unit/@value"/></Field></xsl:if><xsl:if test="indivodoc:amountRemaining/indivodoc:unit/@abbrev"><Field name="amountRemaining_unit_abbrev"><xsl:value-of select="indivodoc:amountRemaining/indivodoc:unit/@abbrev"/></Field></xsl:if></xsl:if></xsl:if>
</Model>
    </Models>
  </xsl:template>
</xsl:stylesheet>
